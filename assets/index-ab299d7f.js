import{j as n,c}from"./locales-548059eb.js";import{r}from"./react-libs-840bfe49.js";import{c as N}from"./rc-cli_site-mobile-demo-eaa39090.js";import{P as O}from"./Popup-a2a0dcda.js";import{C as q}from"./ConfigProviderContext-0f984393.js";import{p as P}from"./base-1da74170.js";import{C as j}from"./index-9549eced.js";import"./mobile-e0307386.js";import"./index-59db7e48.js";import"./unit-bb3e6514.js";import"./Overlay-d703c016.js";import"./use-touch-76dedc34.js";import"./use-scroll-parent-a4dd715d.js";import"./CSSTransition-ea203202.js";import"./use-event-listener-721bbec6.js";import"./interceptor-35467a90.js";import"./PopupContext-0557b73d.js";import"./constant-7552c2aa.js";const I=["qq","link","weibo","wechat","poster","qrcode","weapp-qrcode","wechat-moments"];function L(t){return I.includes(t)?`https://img.yzcdn.cn/vant/share-sheet-${t}.png`:t}const y=t=>{const{prefixCls:v,createNamespace:b}=r.useContext(q),[s]=b("share-sheet",v),m=()=>{var e;(e=t.onCancel)==null||e.call(t)},d=(e,o)=>{var i;(i=t.onSelect)==null||i.call(t,e,o)},g=()=>{const{title:e,description:o}=t;return e||o?n.jsxs("div",{className:c(s("header")),children:[e&&n.jsx("div",{className:c(s("title")),children:e}),o&&n.jsx("div",{className:c(s("description")),children:o})]}):null},u=(e,o)=>{const{name:i,icon:S,className:x,description:f}=e;return n.jsxs("div",{role:"button",tabIndex:0,className:c([s("option"),x]),onClick:()=>d(e,o),children:[n.jsx("img",{alt:"share sheet icon",src:L(S),className:c(s("icon"))}),i&&n.jsx("span",{className:c(s("name")),children:i}),f&&n.jsx("span",{className:c(s("option-description")),children:f})]},o)},p=(e,o,i)=>n.jsx("div",{className:c(s("options",{border:o})),children:e.map(u)},i),h=()=>{const{options:e}=t;return Array.isArray(e[0])?e.map((o,i)=>p(o,i!==0,i)):p(e)},k=()=>{const{cancelText:e}=t;return e?n.jsx("button",{type:"button",className:c(s("cancel")),onClick:m,children:e}):null};return n.jsxs(O,{round:!0,className:c(s()),position:"bottom",onClose:m,...P(t,["closeOnPopstate","safeAreaInsetBottom","visible","overlay","duration","lockScroll","overlayStyle","overlayClass","closeOnClickOverlay"]),children:[g(),h(),k()]})};y.defaultProps={cancelText:"取消",options:[],closeOnPopstate:!0,safeAreaInsetBottom:!0,closeOnClickOverlay:!0};const C=y;const z=[{name:"微信",icon:"wechat"},{name:"微博",icon:"weibo"},{name:"复制链接",icon:"link"},{name:"分享海报",icon:"poster"},{name:"二维码",icon:"qrcode"}],A=[[{name:"微信",icon:"wechat"},{name:"朋友圈",icon:"wechat-moments"},{name:"微博",icon:"weibo"},{name:"QQ",icon:"qq"}],[{name:"复制链接",icon:"link"},{name:"分享海报",icon:"poster"},{name:"二维码",icon:"qrcode"},{name:"小程序码",icon:"weapp-qrcode"}]],B=[{name:"名称",icon:"https://img.yzcdn.cn/vant/custom-icon-fire.png"},{name:"名称",icon:"https://img.yzcdn.cn/vant/custom-icon-light.png"},{name:"名称",icon:"https://img.yzcdn.cn/vant/custom-icon-water.png"}],E=[{name:"微信",icon:"wechat"},{name:"微博",icon:"weibo"},{name:"复制链接",icon:"link",description:"描述信息"},{name:"分享海报",icon:"poster"},{name:"二维码",icon:"qrcode"}],ee=()=>{const{DemoBlock:t,DemoSection:v}=N,[b,s]=r.useState(!1),[m,d]=r.useState(!1),[g,u]=r.useState(!1),[p,h]=r.useState(!1),k=()=>s(!0),e=()=>s(!1),o=()=>d(!0),i=()=>d(!1),S=()=>u(!0),x=()=>u(!1),f=()=>h(!0),w=()=>h(!1);return n.jsxs(v,{children:[n.jsx(t,{card:!0,title:"基础用法",children:n.jsx(j,{isLink:!0,title:"显示分享面板",onClick:k})}),n.jsx(t,{card:!0,title:"展示多行选项",children:n.jsx(j,{isLink:!0,title:"显示分享面板",onClick:o})}),n.jsx(t,{card:!0,title:"自定义图标",children:n.jsx(j,{isLink:!0,title:"显示分享面板",onClick:S})}),n.jsx(t,{card:!0,title:"展示描述信息",children:n.jsx(j,{isLink:!0,title:"显示分享面板",onClick:f})}),n.jsx(C,{visible:b,options:z,title:"立即分享给好友",onCancel:e,onSelect:(l,a)=>{console.log("option",l),console.log("index",a),e()}}),n.jsx(C,{visible:m,options:A,title:"立即分享给好友",onCancel:i,onSelect:(l,a)=>{console.log("option",l),console.log("index",a),i()}}),n.jsx(C,{visible:g,options:B,onCancel:x,onSelect:(l,a)=>{console.log("option",l),console.log("index",a),x()}}),n.jsx(C,{visible:p,options:E,title:"立即分享给好友",description:"描述信息",onCancel:w,onSelect:(l,a)=>{console.log("option",l),console.log("index",a),w()}})]})};export{ee as default};
