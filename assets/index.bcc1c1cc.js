import{r as s,j as r,a as E}from"./react-libs.762d0c40.js";import{c as P}from"./rc-cli_site-mobile-demo.b934214f.js";import"./index.3e9967ef.js";import{T as u,n as p,P as R}from"./Uploader.df5308b8.js";import"./index.35c0d1a6.js";import"./index.f6c39f3a.js";import{C as f}from"./index.e14d24af.js";import"./index.a0b5b08f.js";import"./constant.c62ba07d.js";import"./Rate.e251f6df.js";import"./TextEllipsis.ba53e733.js";import"./index.c15d434d.js";import"./ConfigProviderContext.29f96478.js";import"./locales.fc745e15.js";import"./mobile.a8076302.js";import"./use-event-listener.d41b1855.js";import"./use-touch.dcaf39ec.js";async function h(c){return new Promise((a,n)=>{setTimeout(()=>{c&&n(new Error("error")),a(Array.from({length:10},(d,l)=>l))},1e3)})}const Q=()=>{const{DemoSection:c}=P,a=s.exports.useRef(null),[n,d]=s.exports.useState([]),[l,g]=s.exports.useState(0),[i,y]=s.exports.useState([]),[x,F]=s.exports.useState([]),[m,o]=s.exports.useState(!1),w=async()=>{const e=await h();d(t=>[...t,...e]),n.length>=30&&o(!0)},B=async()=>{g(t=>t+1);const e=await h(l===1);y(t=>[...t,...e])};s.exports.useEffect(()=>{i.length>=30&&o(!0)},[i]);const L=async e=>{const t=await h();F(T=>{const C=e?t:[...T,...t];return C.length>=30&&o(!0),C})},D=async()=>{var e;o(!1),await L(1),(e=a.current)==null||e.check()};return r(c,{children:E(u,{sticky:!0,children:[r(u.TabPane,{title:"\u57FA\u672C\u7528\u6CD5",onChange:()=>o(!1),children:r(p,{finished:m,onLoad:w,children:n.length?n.map((e,t)=>r(f,{title:t+1},t)):null})}),r(u.TabPane,{title:"\u9519\u8BEF\u63D0\u793A",children:r(p,{finished:m,errorText:"\u8BF7\u6C42\u5931\u8D25\uFF0C\u70B9\u51FB\u91CD\u65B0\u52A0\u8F7D",onLoad:B,children:i.length?i.map((e,t)=>r(f,{title:t+1},t)):null})}),r(u.TabPane,{title:"\u4E0B\u62C9\u5237\u65B0",children:r(R,{onRefresh:D,children:r(p,{ref:a,finished:m,onLoad:L,children:x.length?x.map((e,t)=>r(f,{title:t+1},t)):null})})})]})})};export{Q as default};
