import{r as I,d as oi,R as Zt}from"./react-libs-840bfe49.js";var ai=Object.defineProperty,ui=(t,e)=>{for(var s in e)ai(t,s,{get:e[s],enumerable:!0})},N={};ui(N,{assign:()=>hi,colors:()=>H,createStringInterpolator:()=>Ie,skipAnimation:()=>Ss,to:()=>ws,willAdvance:()=>Ae});var _e=Pt(),_=t=>At(t,_e),ye=Pt();_.write=t=>At(t,ye);var qt=Pt();_.onStart=t=>At(t,qt);var be=Pt();_.onFrame=t=>At(t,be);var we=Pt();_.onFinish=t=>At(t,we);var st=[];_.setTimeout=(t,e)=>{const s=_.now()+e,i=()=>{const r=st.findIndex(o=>o.cancel==i);~r&&st.splice(r,1),Q-=~r?1:0},n={time:s,handler:t,cancel:i};return st.splice(gs(s),0,n),Q+=1,vs(),n};var gs=t=>~(~st.findIndex(e=>e.time>t)||~st.length);_.cancel=t=>{qt.delete(t),be.delete(t),we.delete(t),_e.delete(t),ye.delete(t)};_.sync=t=>{oe=!0,_.batchedUpdates(t),oe=!1};_.throttle=t=>{let e;function s(){try{t(...e)}finally{e=null}}function i(...n){e=n,_.onStart(s)}return i.handler=t,i.cancel=()=>{qt.delete(s),e=null},i};var Se=typeof window<"u"?window.requestAnimationFrame:()=>{};_.use=t=>Se=t;_.now=typeof performance<"u"?()=>performance.now():Date.now;_.batchedUpdates=t=>t();_.catch=console.error;_.frameLoop="always";_.advance=()=>{_.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):ys()};var K=-1,Q=0,oe=!1;function At(t,e){oe?(e.delete(t),t(0)):(e.add(t),vs())}function vs(){K<0&&(K=0,_.frameLoop!=="demand"&&Se(_s))}function ci(){K=-1}function _s(){~K&&(Se(_s),_.batchedUpdates(ys))}function ys(){const t=K;K=_.now();const e=gs(K);if(e&&(bs(st.splice(0,e),s=>s.handler()),Q-=e),!Q){ci();return}qt.flush(),_e.flush(t?Math.min(64,K-t):16.667),be.flush(),ye.flush(),we.flush()}function Pt(){let t=new Set,e=t;return{add(s){Q+=e==t&&!t.has(s)?1:0,t.add(s)},delete(s){return Q-=e==t&&t.has(s)?1:0,t.delete(s)},flush(s){e.size&&(t=new Set,Q-=e.size,bs(e,i=>i(s)&&t.add(i)),Q+=t.size,e=t)}}}function bs(t,e){t.forEach(s=>{try{e(s)}catch(i){_.catch(i)}})}function ae(){}var li=(t,e,s)=>Object.defineProperty(t,e,{value:s,writable:!0,configurable:!0}),c={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function q(t,e){if(c.arr(t)){if(!c.arr(e)||t.length!==e.length)return!1;for(let s=0;s<t.length;s++)if(t[s]!==e[s])return!1;return!0}return t===e}var S=(t,e)=>t.forEach(e);function $(t,e,s){if(c.arr(t)){for(let i=0;i<t.length;i++)e.call(s,t[i],`${i}`);return}for(const i in t)t.hasOwnProperty(i)&&e.call(s,t[i],i)}var R=t=>c.und(t)?[]:c.arr(t)?t:[t];function ft(t,e){if(t.size){const s=Array.from(t);t.clear(),S(s,e)}}var ht=(t,...e)=>ft(t,s=>s(...e)),Ee=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Ie,ws,H=null,Ss=!1,Ae=ae,hi=t=>{t.to&&(ws=t.to),t.now&&(_.now=t.now),t.colors!==void 0&&(H=t.colors),t.skipAnimation!=null&&(Ss=t.skipAnimation),t.createStringInterpolator&&(Ie=t.createStringInterpolator),t.requestAnimationFrame&&_.use(t.requestAnimationFrame),t.batchedUpdates&&(_.batchedUpdates=t.batchedUpdates),t.willAdvance&&(Ae=t.willAdvance),t.frameLoop&&(_.frameLoop=t.frameLoop)},dt=new Set,L=[],Jt=[],Ft=0,zt={get idle(){return!dt.size&&!L.length},start(t){Ft>t.priority?(dt.add(t),_.onStart(fi)):(Es(t),_(ue))},advance:ue,sort(t){if(Ft)_.onFrame(()=>zt.sort(t));else{const e=L.indexOf(t);~e&&(L.splice(e,1),Is(t))}},clear(){L=[],dt.clear()}};function fi(){dt.forEach(Es),dt.clear(),_(ue)}function Es(t){L.includes(t)||Is(t)}function Is(t){L.splice(di(L,e=>e.priority>t.priority),0,t)}function ue(t){const e=Jt;for(let s=0;s<L.length;s++){const i=L[s];Ft=i.priority,i.idle||(Ae(i),i.advance(t),i.idle||e.push(i))}return Ft=0,Jt=L,Jt.length=0,L=e,L.length>0}function di(t,e){const s=t.findIndex(e);return s<0?t.length:s}var pi=(t,e,s)=>Math.min(Math.max(s,t),e),mi={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},j="[-+]?\\d*\\.?\\d+",Ut=j+"%";function Kt(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var gi=new RegExp("rgb"+Kt(j,j,j)),vi=new RegExp("rgba"+Kt(j,j,j,j)),_i=new RegExp("hsl"+Kt(j,Ut,Ut)),yi=new RegExp("hsla"+Kt(j,Ut,Ut,j)),bi=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,wi=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Si=/^#([0-9a-fA-F]{6})$/,Ei=/^#([0-9a-fA-F]{8})$/;function Ii(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=Si.exec(t))?parseInt(e[1]+"ff",16)>>>0:H&&H[t]!==void 0?H[t]:(e=gi.exec(t))?(J(e[1])<<24|J(e[2])<<16|J(e[3])<<8|255)>>>0:(e=vi.exec(t))?(J(e[1])<<24|J(e[2])<<16|J(e[3])<<8|Ve(e[4]))>>>0:(e=bi.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=Ei.exec(t))?parseInt(e[1],16)>>>0:(e=wi.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=_i.exec(t))?(De(xe(e[1]),Mt(e[2]),Mt(e[3]))|255)>>>0:(e=yi.exec(t))?(De(xe(e[1]),Mt(e[2]),Mt(e[3]))|Ve(e[4]))>>>0:null}function te(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function De(t,e,s){const i=s<.5?s*(1+e):s+e-s*e,n=2*s-i,r=te(n,i,t+1/3),o=te(n,i,t),u=te(n,i,t-1/3);return Math.round(r*255)<<24|Math.round(o*255)<<16|Math.round(u*255)<<8}function J(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function xe(t){return(parseFloat(t)%360+360)%360/360}function Ve(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Mt(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function Le(t){let e=Ii(t);if(e===null)return t;e=e||0;const s=(e&4278190080)>>>24,i=(e&16711680)>>>16,n=(e&65280)>>>8,r=(e&255)/255;return`rgba(${s}, ${i}, ${n}, ${r})`}var gt=(t,e,s)=>{if(c.fun(t))return t;if(c.arr(t))return gt({range:t,output:e,extrapolate:s});if(c.str(t.output[0]))return Ie(t);const i=t,n=i.output,r=i.range||[0,1],o=i.extrapolateLeft||i.extrapolate||"extend",u=i.extrapolateRight||i.extrapolate||"extend",h=i.easing||(a=>a);return a=>{const l=Pi(a,r);return Ai(a,r[l],r[l+1],n[l],n[l+1],h,o,u,i.map)}};function Ai(t,e,s,i,n,r,o,u,h){let a=h?h(t):t;if(a<e){if(o==="identity")return a;o==="clamp"&&(a=e)}if(a>s){if(u==="identity")return a;u==="clamp"&&(a=s)}return i===n?i:e===s?t<=e?i:n:(e===-1/0?a=-a:s===1/0?a=a-e:a=(a-e)/(s-e),a=r(a),i===-1/0?a=-a:n===1/0?a=a+i:a=a*(n-i)+i,a)}function Pi(t,e){for(var s=1;s<e.length-1&&!(e[s]>=t);++s);return s-1}var Ti=(t,e="end")=>s=>{s=e==="end"?Math.min(s,.999):Math.max(s,.001);const i=s*t,n=e==="end"?Math.floor(i):Math.ceil(i);return pi(0,1,n/t)},jt=1.70158,Rt=jt*1.525,Fe=jt+1,Ue=2*Math.PI/3,je=2*Math.PI/4.5,Dt=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,ki={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>Fe*t*t*t-jt*t*t,easeOutBack:t=>1+Fe*Math.pow(t-1,3)+jt*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((Rt+1)*2*t-Rt)/2:(Math.pow(2*t-2,2)*((Rt+1)*(t*2-2)+Rt)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*Ue),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*Ue)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*je))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*je)/2+1,easeInBounce:t=>1-Dt(1-t),easeOutBounce:Dt,easeInOutBounce:t=>t<.5?(1-Dt(1-2*t))/2:(1+Dt(2*t-1))/2,steps:Ti},vt=Symbol.for("FluidValue.get"),nt=Symbol.for("FluidValue.observers"),x=t=>!!(t&&t[vt]),M=t=>t&&t[vt]?t[vt]():t,Ne=t=>t[nt]||null;function Oi(t,e){t.eventObserved?t.eventObserved(e):t(e)}function _t(t,e){const s=t[nt];s&&s.forEach(i=>{Oi(i,e)})}var As=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");Ci(this,t)}},Ci=(t,e)=>Ps(t,vt,e);function ot(t,e){if(t[vt]){let s=t[nt];s||Ps(t,nt,s=new Set),s.has(e)||(s.add(e),t.observerAdded&&t.observerAdded(s.size,e))}return e}function yt(t,e){const s=t[nt];if(s&&s.has(e)){const i=s.size-1;i?s.delete(e):t[nt]=null,t.observerRemoved&&t.observerRemoved(i,e)}}var Ps=(t,e,s)=>Object.defineProperty(t,e,{value:s,writable:!0,configurable:!0}),xt=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Mi=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Be=new RegExp(`(${xt.source})(%|[a-z]+)`,"i"),Ri=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Qt=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Ts=t=>{const[e,s]=Di(t);if(!e||Ee())return t;const i=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(i)return i.trim();if(s&&s.startsWith("--")){const n=window.getComputedStyle(document.documentElement).getPropertyValue(s);return n||t}else{if(s&&Qt.test(s))return Ts(s);if(s)return s}return t},Di=t=>{const e=Qt.exec(t);if(!e)return[,];const[,s,i]=e;return[s,i]},ee,xi=(t,e,s,i,n)=>`rgba(${Math.round(e)}, ${Math.round(s)}, ${Math.round(i)}, ${n})`,ks=t=>{ee||(ee=H?new RegExp(`(${Object.keys(H).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(r=>M(r).replace(Qt,Ts).replace(Mi,Le).replace(ee,Le)),s=e.map(r=>r.match(xt).map(Number)),n=s[0].map((r,o)=>s.map(u=>{if(!(o in u))throw Error('The arity of each "output" value must be equal');return u[o]})).map(r=>gt({...t,output:r}));return r=>{var h;const o=!Be.test(e[0])&&((h=e.find(a=>Be.test(a)))==null?void 0:h.replace(xt,""));let u=0;return e[0].replace(xt,()=>`${n[u++](r)}${o||""}`).replace(Ri,xi)}},Pe="react-spring: ",Os=t=>{const e=t;let s=!1;if(typeof e!="function")throw new TypeError(`${Pe}once requires a function parameter`);return(...i)=>{s||(e(...i),s=!0)}},Vi=Os(console.warn);function Li(){Vi(`${Pe}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Fi=Os(console.warn);function Ui(){Fi(`${Pe}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Ht(t){return c.str(t)&&(t[0]=="#"||/\d/.test(t)||!Ee()&&Qt.test(t)||t in(H||{}))}var Te=Ee()?I.useEffect:I.useLayoutEffect,ji=()=>{const t=I.useRef(!1);return Te(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function Cs(){const t=I.useState()[1],e=ji();return()=>{e.current&&t(Math.random())}}function Ni(t,e){const[s]=I.useState(()=>({inputs:e,result:t()})),i=I.useRef(),n=i.current;let r=n;return r?e&&r.inputs&&Bi(e,r.inputs)||(r={inputs:e,result:t()}):r=s,I.useEffect(()=>{i.current=r,n==s&&(s.inputs=s.result=void 0)},[r]),r.result}function Bi(t,e){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++)if(t[s]!==e[s])return!1;return!0}var Ms=t=>I.useEffect(t,$i),$i=[];function $e(t){const e=I.useRef();return I.useEffect(()=>{e.current=t}),e.current}var bt=Symbol.for("Animated:node"),qi=t=>!!t&&t[bt]===t,B=t=>t&&t[bt],ke=(t,e)=>li(t,bt,e),Gt=t=>t&&t[bt]&&t[bt].getPayload(),Rs=class{constructor(){ke(this,this)}getPayload(){return this.payload||[]}},Tt=class extends Rs{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,c.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Tt(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return c.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,c.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},wt=class extends Tt{constructor(t){super(0),this._string=null,this._toString=gt({output:[t,t]})}static create(t){return new wt(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(c.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=gt({output:[this.getValue(),t]})),this._value=0,super.reset()}},Nt={dependencies:null},Yt=class extends Rs{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return $(this.source,(s,i)=>{qi(s)?e[i]=s.getValue(t):x(s)?e[i]=M(s):t||(e[i]=s)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&S(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return $(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){Nt.dependencies&&x(t)&&Nt.dependencies.add(t);const e=Gt(t);e&&S(e,s=>this.add(s))}},Ds=class extends Yt{constructor(t){super(t)}static create(t){return new Ds(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((s,i)=>s.setValue(t[i])).some(Boolean):(super.setValue(t.map(zi)),!0)}};function zi(t){return(Ht(t)?wt:Tt).create(t)}function ce(t){const e=B(t);return e?e.constructor:c.arr(t)?Ds:Ht(t)?wt:Tt}var qe=(t,e)=>{const s=!c.fun(t)||t.prototype&&t.prototype.isReactComponent;return I.forwardRef((i,n)=>{const r=I.useRef(null),o=s&&I.useCallback(g=>{r.current=Hi(n,g)},[n]),[u,h]=Qi(i,e),a=Cs(),l=()=>{const g=r.current;if(s&&!g)return;(g?e.applyAnimatedValues(g,u.getValue(!0)):!1)===!1&&a()},f=new Ki(l,h),d=I.useRef();Te(()=>(d.current=f,S(h,g=>ot(g,f)),()=>{d.current&&(S(d.current.deps,g=>yt(g,d.current)),_.cancel(d.current.update))})),I.useEffect(l,[]),Ms(()=>()=>{const g=d.current;S(g.deps,m=>yt(m,g))});const b=e.getComponentProps(u.getValue());return I.createElement(t,{...b,ref:o})})},Ki=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&_.write(this.update)}};function Qi(t,e){const s=new Set;return Nt.dependencies=s,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new Yt(t),Nt.dependencies=null,[t,s]}function Hi(t,e){return t&&(c.fun(t)?t(e):t.current=e),e}var ze=Symbol.for("AnimatedComponent"),Gi=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:s=n=>new Yt(n),getComponentProps:i=n=>n}={})=>{const n={applyAnimatedValues:e,createAnimatedStyle:s,getComponentProps:i},r=o=>{const u=Ke(o)||"Anonymous";return c.str(o)?o=r[o]||(r[o]=qe(o,n)):o=o[ze]||(o[ze]=qe(o,n)),o.displayName=`Animated(${u})`,o};return $(t,(o,u)=>{c.arr(t)&&(u=Ke(o)),r[u]=r(o)}),{animated:r}},Ke=t=>c.str(t)?t:t&&c.str(t.displayName)?t.displayName:c.fun(t)&&t.name||null;function G(t,...e){return c.fun(t)?t(...e):t}var pt=(t,e)=>t===!0||!!(e&&t&&(c.fun(t)?t(e):R(t).includes(e))),xs=(t,e)=>c.obj(t)?e&&t[e]:t,Vs=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,Yi=t=>t,Oe=(t,e=Yi)=>{let s=Wi;t.default&&t.default!==!0&&(t=t.default,s=Object.keys(t));const i={};for(const n of s){const r=e(t[n],n);c.und(r)||(i[n]=r)}return i},Wi=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Xi={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Zi(t){const e={};let s=0;if($(t,(i,n)=>{Xi[n]||(e[n]=i,s++)}),s)return e}function Ls(t){const e=Zi(t);if(e){const s={to:e};return $(t,(i,n)=>n in e||(s[n]=i)),s}return{...t}}function St(t){return t=M(t),c.arr(t)?t.map(St):Ht(t)?N.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function Ji(t){for(const e in t)return!0;return!1}function le(t){return c.fun(t)||c.arr(t)&&c.obj(t[0])}function tn(t,e){var s;(s=t.ref)==null||s.delete(t),e==null||e.delete(t)}function en(t,e){var s;e&&t.ref!==e&&((s=t.ref)==null||s.delete(t),e.add(t),t.ref=e)}var sn={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},he={...sn.default,mass:1,damping:1,easing:ki.linear,clamp:!1},nn=class{constructor(){this.velocity=0,Object.assign(this,he)}};function rn(t,e,s){s&&(s={...s},Qe(s,e),e={...s,...e}),Qe(t,e),Object.assign(t,e);for(const o in he)t[o]==null&&(t[o]=he[o]);let{frequency:i,damping:n}=t;const{mass:r}=t;return c.und(i)||(i<.01&&(i=.01),n<0&&(n=0),t.tension=Math.pow(2*Math.PI/i,2)*r,t.friction=4*Math.PI*n*r/i),t}function Qe(t,e){if(!c.und(e.decay))t.duration=void 0;else{const s=!c.und(e.tension)||!c.und(e.friction);(s||!c.und(e.frequency)||!c.und(e.damping)||!c.und(e.mass))&&(t.duration=void 0,t.decay=void 0),s&&(t.frequency=void 0)}}var He=[],on=class{constructor(){this.changed=!1,this.values=He,this.toValues=null,this.fromValues=He,this.config=new nn,this.immediate=!1}};function Fs(t,{key:e,props:s,defaultProps:i,state:n,actions:r}){return new Promise((o,u)=>{let h,a,l=pt(s.cancel??(i==null?void 0:i.cancel),e);if(l)b();else{c.und(s.pause)||(n.paused=pt(s.pause,e));let g=i==null?void 0:i.pause;g!==!0&&(g=n.paused||pt(g,e)),h=G(s.delay||0,e),g?(n.resumeQueue.add(d),r.pause()):(r.resume(),d())}function f(){n.resumeQueue.add(d),n.timeouts.delete(a),a.cancel(),h=a.time-_.now()}function d(){h>0&&!N.skipAnimation?(n.delayed=!0,a=_.setTimeout(b,h),n.pauseQueue.add(f),n.timeouts.add(a)):b()}function b(){n.delayed&&(n.delayed=!1),n.pauseQueue.delete(f),n.timeouts.delete(a),t<=(n.cancelId||0)&&(l=!0);try{r.start({...s,callId:t,cancel:l},o)}catch(g){u(g)}}})}var Ce=(t,e)=>e.length==1?e[0]:e.some(s=>s.cancelled)?it(t.get()):e.every(s=>s.noop)?Us(t.get()):U(t.get(),e.every(s=>s.finished)),Us=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),U=(t,e,s=!1)=>({value:t,finished:e,cancelled:s}),it=t=>({value:t,cancelled:!0,finished:!1});function js(t,e,s,i){const{callId:n,parentId:r,onRest:o}=e,{asyncTo:u,promise:h}=s;return!r&&t===u&&!e.reset?h:s.promise=(async()=>{s.asyncId=n,s.asyncTo=t;const a=Oe(e,(y,p)=>p==="onRest"?void 0:y);let l,f;const d=new Promise((y,p)=>(l=y,f=p)),b=y=>{const p=n<=(s.cancelId||0)&&it(i)||n!==s.asyncId&&U(i,!1);if(p)throw y.result=p,f(y),y},g=(y,p)=>{const w=new Ge,v=new Ye;return(async()=>{if(N.skipAnimation)throw Et(s),v.result=U(i,!1),f(v),v;b(w);const E=c.obj(y)?{...y}:{...p,to:y};E.parentId=n,$(a,(O,C)=>{c.und(E[C])&&(E[C]=O)});const k=await i.start(E);return b(w),s.paused&&await new Promise(O=>{s.resumeQueue.add(O)}),k})()};let m;if(N.skipAnimation)return Et(s),U(i,!1);try{let y;c.arr(t)?y=(async p=>{for(const w of p)await g(w)})(t):y=Promise.resolve(t(g,i.stop.bind(i))),await Promise.all([y.then(l),d]),m=U(i.get(),!0,!1)}catch(y){if(y instanceof Ge)m=y.result;else if(y instanceof Ye)m=y.result;else throw y}finally{n==s.asyncId&&(s.asyncId=r,s.asyncTo=r?u:void 0,s.promise=r?h:void 0)}return c.fun(o)&&_.batchedUpdates(()=>{o(m,i,i.item)}),m})()}function Et(t,e){ft(t.timeouts,s=>s.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var Ge=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Ye=class extends Error{constructor(){super("SkipAnimationSignal")}},fe=t=>t instanceof Me,an=1,Me=class extends As{constructor(){super(...arguments),this.id=an++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=B(this);return t&&t.getValue()}to(...t){return N.to(this,t)}interpolate(...t){return Li(),N.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){_t(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||zt.sort(this),_t(this,{type:"priority",parent:this,priority:t})}},Y=Symbol.for("SpringPhase"),Ns=1,de=2,pe=4,se=t=>(t[Y]&Ns)>0,z=t=>(t[Y]&de)>0,ut=t=>(t[Y]&pe)>0,We=(t,e)=>e?t[Y]|=de|Ns:t[Y]&=~de,Xe=(t,e)=>e?t[Y]|=pe:t[Y]&=~pe,un=class extends Me{constructor(t,e){if(super(),this.animation=new on,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!c.und(t)||!c.und(e)){const s=c.obj(t)?{...t}:{...e,from:t};c.und(s.default)&&(s.default=!0),this.start(s)}}get idle(){return!(z(this)||this._state.asyncTo)||ut(this)}get goal(){return M(this.animation.to)}get velocity(){const t=B(this);return t instanceof Tt?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return se(this)}get isAnimating(){return z(this)}get isPaused(){return ut(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,s=!1;const i=this.animation;let{toValues:n}=i;const{config:r}=i,o=Gt(i.to);!o&&x(i.to)&&(n=R(M(i.to))),i.values.forEach((a,l)=>{if(a.done)return;const f=a.constructor==wt?1:o?o[l].lastPosition:n[l];let d=i.immediate,b=f;if(!d){if(b=a.lastPosition,r.tension<=0){a.done=!0;return}let g=a.elapsedTime+=t;const m=i.fromValues[l],y=a.v0!=null?a.v0:a.v0=c.arr(r.velocity)?r.velocity[l]:r.velocity;let p;const w=r.precision||(m==f?.005:Math.min(1,Math.abs(f-m)*.001));if(c.und(r.duration))if(r.decay){const v=r.decay===!0?.998:r.decay,E=Math.exp(-(1-v)*g);b=m+y/(1-v)*(1-E),d=Math.abs(a.lastPosition-b)<=w,p=y*E}else{p=a.lastVelocity==null?y:a.lastVelocity;const v=r.restVelocity||w/10,E=r.clamp?0:r.bounce,k=!c.und(E),O=m==f?a.v0>0:m<f;let C,Ct=!1;const D=1,at=Math.ceil(t/D);for(let F=0;F<at&&(C=Math.abs(p)>v,!(!C&&(d=Math.abs(f-b)<=w,d)));++F){k&&(Ct=b==f||b>f==O,Ct&&(p=-p*E,b=f));const X=-r.tension*1e-6*(b-f),Z=-r.friction*.001*p,ri=(X+Z)/r.mass;p=p+ri*D,b=b+p*D}}else{let v=1;r.duration>0&&(this._memoizedDuration!==r.duration&&(this._memoizedDuration=r.duration,a.durationProgress>0&&(a.elapsedTime=r.duration*a.durationProgress,g=a.elapsedTime+=t)),v=(r.progress||0)+g/this._memoizedDuration,v=v>1?1:v<0?0:v,a.durationProgress=v),b=m+r.easing(v)*(f-m),p=(b-a.lastPosition)/t,d=v==1}a.lastVelocity=p,Number.isNaN(b)&&(console.warn("Got NaN while animating:",this),d=!0)}o&&!o[l].done&&(d=!1),d?a.done=!0:e=!1,a.setValue(b,r.round)&&(s=!0)});const u=B(this),h=u.getValue();if(e){const a=M(i.to);(h!==a||s)&&!r.decay?(u.setValue(a),this._onChange(a)):s&&r.decay&&this._onChange(h),this._stop()}else s&&this._onChange(h)}set(t){return _.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(z(this)){const{to:t,config:e}=this.animation;_.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let s;return c.und(t)?(s=this.queue||[],this.queue=[]):s=[c.obj(t)?t:{...e,to:t}],Promise.all(s.map(i=>this._update(i))).then(i=>Ce(this,i))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),Et(this._state,t&&this._lastCallId),_.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:s,from:i}=t;s=c.obj(s)?s[e]:s,(s==null||le(s))&&(s=void 0),i=c.obj(i)?i[e]:i,i==null&&(i=void 0);const n={to:s,from:i};return se(this)||(t.reverse&&([s,i]=[i,s]),i=M(i),c.und(i)?B(this)||this._set(s):this._set(i)),n}_update({...t},e){const{key:s,defaultProps:i}=this;t.default&&Object.assign(i,Oe(t,(o,u)=>/^on/.test(u)?xs(o,s):o)),Je(this,t,"onProps"),lt(this,"onProps",t,this);const n=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const r=this._state;return Fs(++this._lastCallId,{key:s,props:t,defaultProps:i,state:r,actions:{pause:()=>{ut(this)||(Xe(this,!0),ht(r.pauseQueue),lt(this,"onPause",U(this,ct(this,this.animation.to)),this))},resume:()=>{ut(this)&&(Xe(this,!1),z(this)&&this._resume(),ht(r.resumeQueue),lt(this,"onResume",U(this,ct(this,this.animation.to)),this))},start:this._merge.bind(this,n)}}).then(o=>{if(t.loop&&o.finished&&!(e&&o.noop)){const u=Bs(t);if(u)return this._update(u,!0)}return o})}_merge(t,e,s){if(e.cancel)return this.stop(!0),s(it(this));const i=!c.und(t.to),n=!c.und(t.from);if(i||n)if(e.callId>this._lastToId)this._lastToId=e.callId;else return s(it(this));const{key:r,defaultProps:o,animation:u}=this,{to:h,from:a}=u;let{to:l=h,from:f=a}=t;n&&!i&&(!e.default||c.und(l))&&(l=f),e.reverse&&([l,f]=[f,l]);const d=!q(f,a);d&&(u.from=f),f=M(f);const b=!q(l,h);b&&this._focus(l);const g=le(e.to),{config:m}=u,{decay:y,velocity:p}=m;(i||n)&&(m.velocity=0),e.config&&!g&&rn(m,G(e.config,r),e.config!==o.config?G(o.config,r):void 0);let w=B(this);if(!w||c.und(l))return s(U(this,!0));const v=c.und(e.reset)?n&&!e.default:!c.und(f)&&pt(e.reset,r),E=v?f:this.get(),k=St(l),O=c.num(k)||c.arr(k)||Ht(k),C=!g&&(!O||pt(o.immediate||e.immediate,r));if(b){const F=ce(l);if(F!==w.constructor)if(C)w=this._set(k);else throw Error(`Cannot animate between ${w.constructor.name} and ${F.name}, as the "to" prop suggests`)}const Ct=w.constructor;let D=x(l),at=!1;if(!D){const F=v||!se(this)&&d;(b||F)&&(at=q(St(E),k),D=!at),(!q(u.immediate,C)&&!C||!q(m.decay,y)||!q(m.velocity,p))&&(D=!0)}if(at&&z(this)&&(u.changed&&!v?D=!0:D||this._stop(h)),!g&&((D||x(h))&&(u.values=w.getPayload(),u.toValues=x(l)?null:Ct==wt?[1]:R(k)),u.immediate!=C&&(u.immediate=C,!C&&!v&&this._set(h)),D)){const{onRest:F}=u;S(ln,Z=>Je(this,e,Z));const X=U(this,ct(this,h));ht(this._pendingCalls,X),this._pendingCalls.add(s),u.changed&&_.batchedUpdates(()=>{var Z;u.changed=!v,F==null||F(X,this),v?G(o.onRest,X):(Z=u.onStart)==null||Z.call(u,X,this)})}v&&this._set(E),g?s(js(e.to,e,this._state,this)):D?this._start():z(this)&&!b?this._pendingCalls.add(s):s(Us(E))}_focus(t){const e=this.animation;t!==e.to&&(Ne(this)&&this._detach(),e.to=t,Ne(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;x(e)&&(ot(e,this),fe(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;x(t)&&yt(t,this)}_set(t,e=!0){const s=M(t);if(!c.und(s)){const i=B(this);if(!i||!q(s,i.getValue())){const n=ce(s);!i||i.constructor!=n?ke(this,n.create(s)):i.setValue(s),i&&_.batchedUpdates(()=>{this._onChange(s,e)})}}return B(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,lt(this,"onStart",U(this,ct(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),G(this.animation.onChange,t,this)),G(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;B(this).reset(M(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),z(this)||(We(this,!0),ut(this)||this._resume())}_resume(){N.skipAnimation?this.finish():zt.start(this)}_stop(t,e){if(z(this)){We(this,!1);const s=this.animation;S(s.values,n=>{n.done=!0}),s.toValues&&(s.onChange=s.onPause=s.onResume=void 0),_t(this,{type:"idle",parent:this});const i=e?it(this.get()):U(this.get(),ct(this,t??s.to));ht(this._pendingCalls,i),s.changed&&(s.changed=!1,lt(this,"onRest",i,this))}}};function ct(t,e){const s=St(e),i=St(t.get());return q(i,s)}function Bs(t,e=t.loop,s=t.to){const i=G(e);if(i){const n=i!==!0&&Ls(i),r=(n||t).reverse,o=!n||n.reset;return It({...t,loop:e,default:!1,pause:void 0,to:!r||le(s)?s:void 0,from:o?t.from:void 0,reset:o,...n})}}function It(t){const{to:e,from:s}=t=Ls(t),i=new Set;return c.obj(e)&&Ze(e,i),c.obj(s)&&Ze(s,i),t.keys=i.size?Array.from(i):null,t}function cn(t){const e=It(t);return c.und(e.default)&&(e.default=Oe(e)),e}function Ze(t,e){$(t,(s,i)=>s!=null&&e.add(i))}var ln=["onStart","onRest","onChange","onPause","onResume"];function Je(t,e,s){t.animation[s]=e[s]!==Vs(e,s)?xs(e[s],t.key):void 0}function lt(t,e,...s){var i,n,r,o;(n=(i=t.animation)[e])==null||n.call(i,...s),(o=(r=t.defaultProps)[e])==null||o.call(r,...s)}var hn=["onStart","onChange","onRest"],fn=1,dn=class{constructor(e,s){this.id=fn++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),s&&(this._flush=s),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((s,i)=>e[i]=s.get()),e}set(e){for(const s in e){const i=e[s];c.und(i)||this.springs[s].set(i)}}update(e){return e&&this.queue.push(It(e)),this}start(e){let{queue:s}=this;return e?s=R(e).map(It):this.queue=[],this._flush?this._flush(this,s):(Qs(this,s),me(this,s))}stop(e,s){if(e!==!!e&&(s=e),s){const i=this.springs;S(R(s),n=>i[n].stop(!!e))}else Et(this._state,this._lastAsyncId),this.each(i=>i.stop(!!e));return this}pause(e){if(c.und(e))this.start({pause:!0});else{const s=this.springs;S(R(e),i=>s[i].pause())}return this}resume(e){if(c.und(e))this.start({pause:!1});else{const s=this.springs;S(R(e),i=>s[i].resume())}return this}each(e){$(this.springs,e)}_onFrame(){const{onStart:e,onChange:s,onRest:i}=this._events,n=this._active.size>0,r=this._changed.size>0;(n&&!this._started||r&&!this._started)&&(this._started=!0,ft(e,([h,a])=>{a.value=this.get(),h(a,this,this._item)}));const o=!n&&this._started,u=r||o&&i.size?this.get():null;r&&s.size&&ft(s,([h,a])=>{a.value=u,h(a,this,this._item)}),o&&(this._started=!1,ft(i,([h,a])=>{a.value=u,h(a,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;_.onFrame(this._onFrame)}};function me(t,e){return Promise.all(e.map(s=>$s(t,s))).then(s=>Ce(t,s))}async function $s(t,e,s){const{keys:i,to:n,from:r,loop:o,onRest:u,onResolve:h}=e,a=c.obj(e.default)&&e.default;o&&(e.loop=!1),n===!1&&(e.to=null),r===!1&&(e.from=null);const l=c.arr(n)||c.fun(n)?n:void 0;l?(e.to=void 0,e.onRest=void 0,a&&(a.onRest=void 0)):S(hn,m=>{const y=e[m];if(c.fun(y)){const p=t._events[m];e[m]=({finished:w,cancelled:v})=>{const E=p.get(y);E?(w||(E.finished=!1),v&&(E.cancelled=!0)):p.set(y,{value:null,finished:w||!1,cancelled:v||!1})},a&&(a[m]=e[m])}});const f=t._state;e.pause===!f.paused?(f.paused=e.pause,ht(e.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(e.pause=!0);const d=(i||Object.keys(t.springs)).map(m=>t.springs[m].start(e)),b=e.cancel===!0||Vs(e,"cancel")===!0;(l||b&&f.asyncId)&&d.push(Fs(++t._lastAsyncId,{props:e,state:f,actions:{pause:ae,resume:ae,start(m,y){b?(Et(f,t._lastAsyncId),y(it(t))):(m.onRest=u,y(js(l,m,f,t)))}}})),f.paused&&await new Promise(m=>{f.resumeQueue.add(m)});const g=Ce(t,await Promise.all(d));if(o&&g.finished&&!(s&&g.noop)){const m=Bs(e,o,n);if(m)return Qs(t,[m]),$s(t,m,!0)}return h&&_.batchedUpdates(()=>h(g,t,t.item)),g}function ts(t,e){const s={...t.springs};return e&&S(R(e),i=>{c.und(i.keys)&&(i=It(i)),c.obj(i.to)||(i={...i,to:void 0}),Ks(s,i,n=>zs(n))}),qs(t,s),s}function qs(t,e){$(e,(s,i)=>{t.springs[i]||(t.springs[i]=s,ot(s,t))})}function zs(t,e){const s=new un;return s.key=t,e&&ot(s,e),s}function Ks(t,e,s){e.keys&&S(e.keys,i=>{(t[i]||(t[i]=s(i)))._prepareNode(e)})}function Qs(t,e){S(e,s=>{Ks(t.springs,s,i=>zs(i,t))})}var Wt=({children:t,...e})=>{const s=I.useContext(Bt),i=e.pause||!!s.pause,n=e.immediate||!!s.immediate;e=Ni(()=>({pause:i,immediate:n}),[i,n]);const{Provider:r}=Bt;return I.createElement(r,{value:e},t)},Bt=pn(Wt,{});Wt.Provider=Bt.Provider;Wt.Consumer=Bt.Consumer;function pn(t,e){return Object.assign(t,I.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var mn=()=>{const t=[],e=function(i){Ui();const n=[];return S(t,(r,o)=>{if(c.und(i))n.push(r.start());else{const u=s(i,r,o);u&&n.push(r.start(u))}}),n};e.current=t,e.add=function(i){t.includes(i)||t.push(i)},e.delete=function(i){const n=t.indexOf(i);~n&&t.splice(n,1)},e.pause=function(){return S(t,i=>i.pause(...arguments)),this},e.resume=function(){return S(t,i=>i.resume(...arguments)),this},e.set=function(i){S(t,(n,r)=>{const o=c.fun(i)?i(r,n):i;o&&n.set(o)})},e.start=function(i){const n=[];return S(t,(r,o)=>{if(c.und(i))n.push(r.start());else{const u=this._getProps(i,r,o);u&&n.push(r.start(u))}}),n},e.stop=function(){return S(t,i=>i.stop(...arguments)),this},e.update=function(i){return S(t,(n,r)=>n.update(this._getProps(i,n,r))),this};const s=function(i,n,r){return c.fun(i)?i(r,n):i};return e._getProps=s,e};function gn(t,e,s){const i=c.fun(e)&&e;i&&!s&&(s=[]);const n=I.useMemo(()=>i||arguments.length==3?mn():void 0,[]),r=I.useRef(0),o=Cs(),u=I.useMemo(()=>({ctrls:[],queue:[],flush(p,w){const v=ts(p,w);return r.current>0&&!u.queue.length&&!Object.keys(v).some(k=>!p.springs[k])?me(p,w):new Promise(k=>{qs(p,v),u.queue.push(()=>{k(me(p,w))}),o()})}}),[]),h=I.useRef([...u.ctrls]),a=[],l=$e(t)||0;I.useMemo(()=>{S(h.current.slice(t,l),p=>{tn(p,n),p.stop(!0)}),h.current.length=t,f(l,t)},[t]),I.useMemo(()=>{f(0,Math.min(l,t))},s);function f(p,w){for(let v=p;v<w;v++){const E=h.current[v]||(h.current[v]=new dn(null,u.flush)),k=i?i(v,E):e[v];k&&(a[v]=cn(k))}}const d=h.current.map((p,w)=>ts(p,a[w])),b=I.useContext(Wt),g=$e(b),m=b!==g&&Ji(b);Te(()=>{r.current++,u.ctrls=h.current;const{queue:p}=u;p.length&&(u.queue=[],S(p,w=>w())),S(h.current,(w,v)=>{n==null||n.add(w),m&&w.start({default:b});const E=a[v];E&&(en(w,E.ref),w.ref?w.queue.push(E):w.start(E))})}),Ms(()=>()=>{S(u.ctrls,p=>p.stop(!0))});const y=d.map(p=>({...p}));return n?[y,n]:y}function Br(t,e){const s=c.fun(t),[[i],n]=gn(1,s?t:[t],s?e||[]:e);return s||arguments.length==2?[i,n]:i}var vn=class extends Me{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=gt(...e);const s=this._get(),i=ce(s);ke(this,i.create(s))}advance(t){const e=this._get(),s=this.get();q(e,s)||(B(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&es(this._active)&&ie(this)}_get(){const t=c.arr(this.source)?this.source.map(M):R(M(this.source));return this.calc(...t)}_start(){this.idle&&!es(this._active)&&(this.idle=!1,S(Gt(this),t=>{t.done=!1}),N.skipAnimation?(_.batchedUpdates(()=>this.advance()),ie(this)):zt.start(this))}_attach(){let t=1;S(R(this.source),e=>{x(e)&&ot(e,this),fe(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){S(R(this.source),t=>{x(t)&&yt(t,this)}),this._active.clear(),ie(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=R(this.source).reduce((e,s)=>Math.max(e,(fe(s)?s.priority:0)+1),0))}};function _n(t){return t.idle!==!1}function es(t){return!t.size||Array.from(t).every(_n)}function ie(t){t.idle||(t.idle=!0,S(Gt(t),e=>{e.done=!0}),_t(t,{type:"idle",parent:t}))}N.assign({createStringInterpolator:ks,to:(t,e)=>new vn(t,e)});var Hs=/^--/;function yn(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!Hs.test(t)&&!(mt.hasOwnProperty(t)&&mt[t])?e+"px":(""+e).trim()}var ss={};function bn(t,e){if(!t.nodeType||!t.setAttribute)return!1;const s=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{style:i,children:n,scrollTop:r,scrollLeft:o,viewBox:u,...h}=e,a=Object.values(h),l=Object.keys(h).map(f=>s||t.hasAttribute(f)?f:ss[f]||(ss[f]=f.replace(/([A-Z])/g,d=>"-"+d.toLowerCase())));n!==void 0&&(t.textContent=n);for(const f in i)if(i.hasOwnProperty(f)){const d=yn(f,i[f]);Hs.test(f)?t.style.setProperty(f,d):t.style[f]=d}l.forEach((f,d)=>{t.setAttribute(f,a[d])}),r!==void 0&&(t.scrollTop=r),o!==void 0&&(t.scrollLeft=o),u!==void 0&&t.setAttribute("viewBox",u)}var mt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wn=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),Sn=["Webkit","Ms","Moz","O"];mt=Object.keys(mt).reduce((t,e)=>(Sn.forEach(s=>t[wn(s,e)]=t[e]),t),mt);var En=/^(matrix|translate|scale|rotate|skew)/,In=/^(translate)/,An=/^(rotate|skew)/,ne=(t,e)=>c.num(t)&&t!==0?t+e:t,Vt=(t,e)=>c.arr(t)?t.every(s=>Vt(s,e)):c.num(t)?t===e:parseFloat(t)===e,Pn=class extends Yt{constructor({x:t,y:e,z:s,...i}){const n=[],r=[];(t||e||s)&&(n.push([t||0,e||0,s||0]),r.push(o=>[`translate3d(${o.map(u=>ne(u,"px")).join(",")})`,Vt(o,0)])),$(i,(o,u)=>{if(u==="transform")n.push([o||""]),r.push(h=>[h,h===""]);else if(En.test(u)){if(delete i[u],c.und(o))return;const h=In.test(u)?"px":An.test(u)?"deg":"";n.push(R(o)),r.push(u==="rotate3d"?([a,l,f,d])=>[`rotate3d(${a},${l},${f},${ne(d,h)})`,Vt(d,0)]:a=>[`${u}(${a.map(l=>ne(l,h)).join(",")})`,Vt(a,u.startsWith("scale")?1:0)])}}),n.length&&(i.transform=new Tn(n,r)),super(i)}},Tn=class extends As{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return S(this.inputs,(s,i)=>{const n=M(s[0]),[r,o]=this.transforms[i](c.arr(n)?n:s.map(M));t+=" "+r,e=e&&o}),e?"none":t}observerAdded(t){t==1&&S(this.inputs,e=>S(e,s=>x(s)&&ot(s,this)))}observerRemoved(t){t==0&&S(this.inputs,e=>S(e,s=>x(s)&&yt(s,this)))}eventObserved(t){t.type=="change"&&(this._value=null),_t(this,t)}},kn=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];N.assign({batchedUpdates:oi.unstable_batchedUpdates,createStringInterpolator:ks,colors:mi});var On=Gi(kn,{applyAnimatedValues:bn,createAnimatedStyle:t=>new Pn(t),getComponentProps:({scrollTop:t,scrollLeft:e,...s})=>s}),$r=On.animated;function Cn(t,e,s){return Math.max(e,Math.min(t,s))}const A={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function is(t,e,s){return e===0||Math.abs(e)===1/0?Math.pow(t,s*5):t*e*s/(e+s*t)}function ns(t,e,s,i=.15){return i===0?Cn(t,e,s):t<e?-is(e-t,s-e,i)+e:t>s?+is(t-s,s-e,i)+s:t}function Mn(t,[e,s],[i,n]){const[[r,o],[u,h]]=t;return[ns(e,r,o,i),ns(s,u,h,n)]}function Rn(t,e){if(typeof t!="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var i=s.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dn(t){var e=Rn(t,"string");return typeof e=="symbol"?e:String(e)}function T(t,e,s){return e=Dn(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function rs(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,i)}return s}function P(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?rs(Object(s),!0).forEach(function(i){T(t,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):rs(Object(s)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(s,i))})}return t}const Gs={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function os(t){return t?t[0].toUpperCase()+t.slice(1):""}const xn=["enter","leave"];function Vn(t=!1,e){return t&&!xn.includes(e)}function Ln(t,e="",s=!1){const i=Gs[t],n=i&&i[e]||e;return"on"+os(t)+os(n)+(Vn(s,n)?"Capture":"")}const Fn=["gotpointercapture","lostpointercapture"];function Un(t){let e=t.substring(2).toLowerCase();const s=!!~e.indexOf("passive");s&&(e=e.replace("passive",""));const i=Fn.includes(e)?"capturecapture":"capture",n=!!~e.indexOf(i);return n&&(e=e.replace("capture","")),{device:e,capture:n,passive:s}}function jn(t,e=""){const s=Gs[t],i=s&&s[e]||e;return t+i}function Xt(t){return"touches"in t}function Ys(t){return Xt(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function Nn(t){return Array.from(t.touches).filter(e=>{var s,i;return e.target===t.currentTarget||((s=t.currentTarget)===null||s===void 0||(i=s.contains)===null||i===void 0?void 0:i.call(s,e.target))})}function Bn(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function Ws(t){return Xt(t)?Bn(t)[0]:t}function ge(t,e){try{const s=e.clientX-t.clientX,i=e.clientY-t.clientY,n=(e.clientX+t.clientX)/2,r=(e.clientY+t.clientY)/2,o=Math.hypot(s,i);return{angle:-(Math.atan2(s,i)*180)/Math.PI,distance:o,origin:[n,r]}}catch{}return null}function $n(t){return Nn(t).map(e=>e.identifier)}function as(t,e){const[s,i]=Array.from(t.touches).filter(n=>e.includes(n.identifier));return ge(s,i)}function re(t){const e=Ws(t);return Xt(t)?e.identifier:e.pointerId}function rt(t){const e=Ws(t);return[e.clientX,e.clientY]}const us=40,cs=800;function Xs(t){let{deltaX:e,deltaY:s,deltaMode:i}=t;return i===1?(e*=us,s*=us):i===2&&(e*=cs,s*=cs),[e,s]}function qn(t){var e,s;const{scrollX:i,scrollY:n,scrollLeft:r,scrollTop:o}=t.currentTarget;return[(e=i??r)!==null&&e!==void 0?e:0,(s=n??o)!==null&&s!==void 0?s:0]}function zn(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:s,altKey:i,metaKey:n,ctrlKey:r}=t;Object.assign(e,{shiftKey:s,altKey:i,metaKey:n,ctrlKey:r})}return e}function $t(t,...e){return typeof t=="function"?t(...e):t}function Kn(){}function Qn(...t){return t.length===0?Kn:t.length===1?t[0]:function(){let e;for(const s of t)e=s.apply(this,arguments)||e;return e}}function ls(t,e){return Object.assign({},e,t||{})}const Hn=32;class Zs{constructor(e,s,i){this.ctrl=e,this.args=s,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:s,ingKey:i,args:n}=this;s[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=n,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const s=this.state,i=this.config;s._active||(this.reset(),this.computeInitial(),s._active=!0,s.target=e.target,s.currentTarget=e.currentTarget,s.lastOffset=i.from?$t(i.from,s):s.offset,s.offset=s.lastOffset,s.startTime=s.timeStamp=e.timeStamp)}computeValues(e){const s=this.state;s._values=e,s.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:s,config:i,shared:n}=this;s.args=this.args;let r=0;if(e&&(s.event=e,i.preventDefault&&e.cancelable&&s.event.preventDefault(),s.type=e.type,n.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,n.locked=!!document.pointerLockElement,Object.assign(n,zn(e)),n.down=n.pressed=n.buttons%2===1||n.touches>0,r=e.timeStamp-s.timeStamp,s.timeStamp=e.timeStamp,s.elapsedTime=s.timeStamp-s.startTime),s._active){const O=s._delta.map(Math.abs);A.addTo(s._distance,O)}this.axisIntent&&this.axisIntent(e);const[o,u]=s._movement,[h,a]=i.threshold,{_step:l,values:f}=s;if(i.hasCustomTransform?(l[0]===!1&&(l[0]=Math.abs(o)>=h&&f[0]),l[1]===!1&&(l[1]=Math.abs(u)>=a&&f[1])):(l[0]===!1&&(l[0]=Math.abs(o)>=h&&Math.sign(o)*h),l[1]===!1&&(l[1]=Math.abs(u)>=a&&Math.sign(u)*a)),s.intentional=l[0]!==!1||l[1]!==!1,!s.intentional)return;const d=[0,0];if(i.hasCustomTransform){const[O,C]=f;d[0]=l[0]!==!1?O-l[0]:0,d[1]=l[1]!==!1?C-l[1]:0}else d[0]=l[0]!==!1?o-l[0]:0,d[1]=l[1]!==!1?u-l[1]:0;this.restrictToAxis&&!s._blocked&&this.restrictToAxis(d);const b=s.offset,g=s._active&&!s._blocked||s.active;g&&(s.first=s._active&&!s.active,s.last=!s._active&&s.active,s.active=n[this.ingKey]=s._active,e&&(s.first&&("bounds"in i&&(s._bounds=$t(i.bounds,s)),this.setup&&this.setup()),s.movement=d,this.computeOffset()));const[m,y]=s.offset,[[p,w],[v,E]]=s._bounds;s.overflow=[m<p?-1:m>w?1:0,y<v?-1:y>E?1:0],s._movementBound[0]=s.overflow[0]?s._movementBound[0]===!1?s._movement[0]:s._movementBound[0]:!1,s._movementBound[1]=s.overflow[1]?s._movementBound[1]===!1?s._movement[1]:s._movementBound[1]:!1;const k=s._active?i.rubberband||[0,0]:[0,0];if(s.offset=Mn(s._bounds,s.offset,k),s.delta=A.sub(s.offset,b),this.computeMovement(),g&&(!s.last||r>Hn)){s.delta=A.sub(s.offset,b);const O=s.delta.map(Math.abs);A.addTo(s.distance,O),s.direction=s.delta.map(Math.sign),s._direction=s._delta.map(Math.sign),!s.first&&r>0&&(s.velocity=[O[0]/r,O[1]/r],s.timeDelta=r)}}emit(){const e=this.state,s=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;const n=this.handler(P(P(P({},s),e),{},{[this.aliasKey]:e.values}));n!==void 0&&(e.memo=n)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Gn([t,e],s){const i=Math.abs(t),n=Math.abs(e);if(i>n&&i>s)return"x";if(n>i&&n>s)return"y"}class kt extends Zs{constructor(...e){super(...e),T(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=A.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=A.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const s=this.state,i=this.config;if(!s.axis&&e){const n=typeof i.axisThreshold=="object"?i.axisThreshold[Ys(e)]:i.axisThreshold;s.axis=Gn(s._movement,n)}s._blocked=(i.lockDirection||!!i.axis)&&!s.axis||!!i.axis&&i.axis!==s.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const Yn=t=>t,hs=.15,Js={enabled(t=!0){return t},eventOptions(t,e,s){return P(P({},s.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[hs,hs];case!1:return[0,0];default:return A.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return A.toVector(t)},transform(t,e,s){const i=t||s.shared.transform;return this.hasCustomTransform=!!i,i||Yn},threshold(t){return A.toVector(t,0)}},Wn=0,W=P(P({},Js),{},{axis(t,e,{axis:s}){if(this.lockDirection=s==="lock",!this.lockDirection)return s},axisThreshold(t=Wn){return t},bounds(t={}){if(typeof t=="function")return r=>W.bounds(t(r));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:s=1/0,top:i=-1/0,bottom:n=1/0}=t;return[[e,s],[i,n]]}}),fs={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class Xn extends kt{constructor(...e){super(...e),T(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const s=e._bounds.getBoundingClientRect(),i=e.currentTarget.getBoundingClientRect(),n={left:s.left-i.left+e.offset[0],right:s.right-i.right+e.offset[0],top:s.top-i.top+e.offset[1],bottom:s.bottom-i.bottom+e.offset[1]};e._bounds=W.bounds(n)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const s=this.config,i=this.state;if(e.buttons!=null&&(Array.isArray(s.pointerButtons)?!s.pointerButtons.includes(e.buttons):s.pointerButtons!==-1&&s.pointerButtons!==e.buttons))return;const n=this.ctrl.setEventIds(e);s.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(n&&n.size>1&&i._pointerActive)&&(this.start(e),this.setupPointer(e),i._pointerId=re(e),i._pointerActive=!0,this.computeValues(rt(e)),this.computeInitial(),s.preventScrollAxis&&Ys(e)!=="mouse"?(i._active=!1,this.setupScrollPrevention(e)):s.delay>0?(this.setupDelayTrigger(e),s.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const s=this.state;s._active=!0,s._preventScroll=!0,s._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const s=this.state,i=this.config;if(!s._pointerActive)return;const n=re(e);if(s._pointerId!==void 0&&n!==s._pointerId)return;const r=rt(e);if(document.pointerLockElement===e.target?s._delta=[e.movementX,e.movementY]:(s._delta=A.sub(r,s._values),this.computeValues(r)),A.addTo(s._movement,s._delta),this.compute(e),s._delayed&&s.intentional){this.timeoutStore.remove("dragDelay"),s.active=!1,this.startPointerDrag(e);return}if(i.preventScrollAxis&&!s._preventScroll)if(s.axis)if(s.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){s._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const s=this.state,i=this.config;if(!s._active||!s._pointerActive)return;const n=re(e);if(s._pointerId!==void 0&&n!==s._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[r,o]=s._distance;if(s.tap=r<=i.tapsThreshold&&o<=i.tapsThreshold,s.tap&&i.filterTaps)s._force=!0;else{const[u,h]=s._delta,[a,l]=s._movement,[f,d]=i.swipe.velocity,[b,g]=i.swipe.distance,m=i.swipe.duration;if(s.elapsedTime<m){const y=Math.abs(u/s.timeDelta),p=Math.abs(h/s.timeDelta);y>f&&Math.abs(a)>b&&(s.swipe[0]=Math.sign(u)),p>d&&Math.abs(l)>g&&(s.swipe[1]=Math.sign(h))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const s=this.config,i=s.device;s.pointerLock&&e.currentTarget.requestPointerLock(),s.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,Zn(e);const s=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",s),this.eventStore.add(this.sharedConfig.window,"touch","cancel",s),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const s=fs[e.key];if(s){const i=this.state,n=e.shiftKey?10:e.altKey?.1:1;this.start(e),i._delta=s(this.config.keyboardDisplacement,n),i._keyboardActive=!0,A.addTo(i._movement,i._delta),this.compute(e),this.emit()}}keyUp(e){e.key in fs&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const s=this.config.device;e(s,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(s,"change",this.pointerMove.bind(this)),e(s,"end",this.pointerUp.bind(this)),e(s,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Zn(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const Ot=typeof window<"u"&&window.document&&window.document.createElement;function Jn(){return Ot&&"ontouchstart"in window}function ds(){return Jn()||Ot&&window.navigator.maxTouchPoints>1}function tr(){return Ot&&"onpointerdown"in window}function er(){return Ot&&"exitPointerLock"in window.document}function sr(){try{return"constructor"in GestureEvent}catch{return!1}}const V={isBrowser:Ot,gesture:sr(),touch:ds(),touchscreen:ds(),pointer:tr(),pointerLock:er()},ir=250,nr=180,rr=.5,or=50,ar=250,ur=10,ps={mouse:0,touch:0,pen:8},cr=P(P({},W),{},{device(t,e,{pointer:{touch:s=!1,lock:i=!1,mouse:n=!1}={}}){return this.pointerLock=i&&V.pointerLock,V.touch&&s?"touch":this.pointerLock?"mouse":V.pointer&&!n?"pointer":V.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:s}){if(this.preventScrollDelay=typeof s=="number"?s:s||s===void 0&&t?ir:void 0,!(!V.touchscreen||s===!1))return t||(s!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:s=!0,buttons:i=1,keys:n=!0}={}}){return this.pointerButtons=i,this.keys=n,!this.pointerLock&&this.device==="pointer"&&s},threshold(t,e,{filterTaps:s=!1,tapsThreshold:i=3,axis:n=void 0}){const r=A.toVector(t,s?i:n?1:0);return this.filterTaps=s,this.tapsThreshold=i,r},swipe({velocity:t=rr,distance:e=or,duration:s=ar}={}){return{velocity:this.transform(A.toVector(t)),distance:this.transform(A.toVector(e)),duration:s}},delay(t=0){switch(t){case!0:return nr;case!1:return 0;default:return t}},axisThreshold(t){return t?P(P({},ps),t):ps},keyboardDisplacement(t=ur){return t}});function ti(t){const[e,s]=t.overflow,[i,n]=t._delta,[r,o]=t._direction;(e<0&&i>0&&r<0||e>0&&i<0&&r>0)&&(t._movement[0]=t._movementBound[0]),(s<0&&n>0&&o<0||s>0&&n<0&&o>0)&&(t._movement[1]=t._movementBound[1])}const lr=30,hr=100;class fr extends Zs{constructor(...e){super(...e),T(this,"ingKey","pinching"),T(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:s,lastOffset:i}=this.state;e==="wheel"?this.state.offset=A.add(s,i):this.state.offset=[(1+s[0])*i[0],s[1]+i[1]]}computeMovement(){const{offset:e,lastOffset:s}=this.state;this.state.movement=[e[0]/s[0],e[1]-s[1]]}axisIntent(){const e=this.state,[s,i]=e._movement;if(!e.axis){const n=Math.abs(s)*lr-Math.abs(i);n<0?e.axis="angle":n>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const s=this.state,i=this.ctrl.touchIds;if(s._active&&s._touchIds.every(r=>i.has(r))||i.size<2)return;this.start(e),s._touchIds=Array.from(i).slice(0,2);const n=as(e,s._touchIds);n&&this.pinchStart(e,n)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const s=this.state,i=s._pointerEvents,n=this.ctrl.pointerIds;if(s._active&&Array.from(i.keys()).every(o=>n.has(o))||(i.size<2&&i.set(e.pointerId,e),s._pointerEvents.size<2))return;this.start(e);const r=ge(...Array.from(i.values()));r&&this.pinchStart(e,r)}pinchStart(e,s){const i=this.state;i.origin=s.origin,this.computeValues([s.distance,s.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const s=as(e,this.state._touchIds);s&&this.pinchMove(e,s)}pointerMove(e){const s=this.state._pointerEvents;if(s.has(e.pointerId)&&s.set(e.pointerId,e),!this.state._active)return;const i=ge(...Array.from(s.values()));i&&this.pinchMove(e,i)}pinchMove(e,s){const i=this.state,n=i._values[1],r=s.angle-n;let o=0;Math.abs(r)>270&&(o+=Math.sign(r)),this.computeValues([s.distance,s.angle-360*o]),i.origin=s.origin,i.turns=o,i._movement=[i._values[0]/i._initial[0]-1,i._values[1]-i._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(s=>!this.ctrl.touchIds.has(s))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const s=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}s._pointerEvents.has(e.pointerId)&&s._pointerEvents.delete(e.pointerId),s._active&&s._pointerEvents.size<2&&(s._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const s=this.state;s._active||(this.start(e),this.computeValues([e.scale,e.rotation]),s.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const s=this.state;this.computeValues([e.scale,e.rotation]),s.origin=[e.clientX,e.clientY];const i=s._movement;s._movement=[e.scale-1,e.rotation],s._delta=A.sub(s._movement,i),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const s=this.config.modifierKey;s&&!e[s]||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const i=this.state;i._delta=[-Xs(e)[1]/hr*i.offset[0],0],A.addTo(i._movement,i._delta),ti(i),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const s=this.config.device;s&&(e(s,"start",this[s+"Start"].bind(this)),e(s,"change",this[s+"Move"].bind(this)),e(s,"end",this[s+"End"].bind(this)),e(s,"cancel",this[s+"End"].bind(this)),e("lostPointerCapture","",this[s+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const dr=P(P({},Js),{},{device(t,e,{shared:s,pointer:{touch:i=!1}={}}){if(s.target&&!V.touch&&V.gesture)return"gesture";if(V.touch&&i)return"touch";if(V.touchscreen){if(V.pointer)return"pointer";if(V.touch)return"touch"}},bounds(t,e,{scaleBounds:s={},angleBounds:i={}}){const n=o=>{const u=ls($t(s,o),{min:-1/0,max:1/0});return[u.min,u.max]},r=o=>{const u=ls($t(i,o),{min:-1/0,max:1/0});return[u.min,u.max]};return typeof s!="function"&&typeof i!="function"?[n(),r()]:o=>[n(o),r(o)]},threshold(t,e,s){return this.lockDirection=s.axis==="lock",A.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});class pr extends kt{constructor(...e){super(...e),T(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(rt(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const s=rt(e),i=this.state;i._delta=A.sub(s,i._values),A.addTo(i._movement,i._delta),this.computeValues(s),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const mr=P(P({},W),{},{mouseOnly:(t=!0)=>t});class gr extends kt{constructor(...e){super(...e),T(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const s=this.state,i=qn(e);s._delta=A.sub(i,s._values),A.addTo(s._movement,s._delta),this.computeValues(i),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const vr=W;class _r extends kt{constructor(...e){super(...e),T(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const s=this.state;s._delta=Xs(e),A.addTo(s._movement,s._delta),ti(s),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const yr=W;class br extends kt{constructor(...e){super(...e),T(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(rt(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const s=this.state;if(!s._active)return;s._active=!1;const i=rt(e);s._movement=s._delta=A.sub(i,s._values),this.computeValues(i),this.compute(e),s.delta=s.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const wr=P(P({},W),{},{mouseOnly:(t=!0)=>t}),Re=new Map,ve=new Map;function ei(t){Re.set(t.key,t.engine),ve.set(t.key,t.resolver)}const si={key:"drag",engine:Xn,resolver:cr},Sr={key:"hover",engine:br,resolver:wr},Er={key:"move",engine:pr,resolver:mr},Ir={key:"pinch",engine:fr,resolver:dr},Ar={key:"scroll",engine:gr,resolver:vr},Pr={key:"wheel",engine:_r,resolver:yr};function Tr(t,e){if(t==null)return{};var s={},i=Object.keys(t),n,r;for(r=0;r<i.length;r++)n=i[r],!(e.indexOf(n)>=0)&&(s[n]=t[n]);return s}function kr(t,e){if(t==null)return{};var s=Tr(t,e),i,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)i=r[n],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(s[i]=t[i])}return s}const Or={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=V.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},Cr=["target","eventOptions","window","enabled","transform"];function Lt(t={},e){const s={};for(const[i,n]of Object.entries(e))switch(typeof n){case"function":s[i]=n.call(s,t[i],i,t);break;case"object":s[i]=Lt(t[i],n);break;case"boolean":n&&(s[i]=t[i]);break}return s}function Mr(t,e,s={}){const i=t,{target:n,eventOptions:r,window:o,enabled:u,transform:h}=i,a=kr(i,Cr);if(s.shared=Lt({target:n,eventOptions:r,window:o,enabled:u,transform:h},Or),e){const l=ve.get(e);s[e]=Lt(P({shared:s.shared},a),l)}else for(const l in a){const f=ve.get(l);f&&(s[l]=Lt(P({shared:s.shared},a[l]),f))}return s}class ii{constructor(e,s){T(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=s}add(e,s,i,n,r){const o=this._listeners,u=jn(s,i),h=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},a=P(P({},h),r);e.addEventListener(u,n,a);const l=()=>{e.removeEventListener(u,n,a),o.delete(l)};return o.add(l),l}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Rr{constructor(){T(this,"_timeouts",new Map)}add(e,s,i=140,...n){this.remove(e),this._timeouts.set(e,window.setTimeout(s,i,...n))}remove(e){const s=this._timeouts.get(e);s&&window.clearTimeout(s)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class Dr{constructor(e){T(this,"gestures",new Set),T(this,"_targetEventStore",new ii(this)),T(this,"gestureEventStores",{}),T(this,"gestureTimeoutStores",{}),T(this,"handlers",{}),T(this,"config",{}),T(this,"pointerIds",new Set),T(this,"touchIds",new Set),T(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),xr(this,e)}setEventIds(e){if(Xt(e))return this.touchIds=new Set($n(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,s){this.handlers=e,this.nativeHandlers=s}applyConfig(e,s){this.config=Mr(e,s,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const s=this.config.shared,i={};let n;if(!(s.target&&(n=s.target(),!n))){if(s.enabled){for(const o of this.gestures){const u=this.config[o],h=ms(i,u.eventOptions,!!n);if(u.enabled){const a=Re.get(o);new a(this,e,o).bind(h)}}const r=ms(i,s.eventOptions,!!n);for(const o in this.nativeHandlers)r(o,"",u=>this.nativeHandlers[o](P(P({},this.state.shared),{},{event:u,args:e})),void 0,!0)}for(const r in i)i[r]=Qn(...i[r]);if(!n)return i;for(const r in i){const{device:o,capture:u,passive:h}=Un(r);this._targetEventStore.add(n,o,"",i[r],{capture:u,passive:h})}}}}function tt(t,e){t.gestures.add(e),t.gestureEventStores[e]=new ii(t,e),t.gestureTimeoutStores[e]=new Rr}function xr(t,e){e.drag&&tt(t,"drag"),e.wheel&&tt(t,"wheel"),e.scroll&&tt(t,"scroll"),e.move&&tt(t,"move"),e.pinch&&tt(t,"pinch"),e.hover&&tt(t,"hover")}const ms=(t,e,s)=>(i,n,r,o={},u=!1)=>{var h,a;const l=(h=o.capture)!==null&&h!==void 0?h:e.capture,f=(a=o.passive)!==null&&a!==void 0?a:e.passive;let d=u?i:Ln(i,n,l);s&&f&&(d+="Passive"),t[d]=t[d]||[],t[d].push(r)},Vr=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function Lr(t){const e={},s={},i=new Set;for(let n in t)Vr.test(n)?(i.add(RegExp.lastMatch),s[n]=t[n]):e[n]=t[n];return[s,e,i]}function et(t,e,s,i,n,r){if(!t.has(s)||!Re.has(i))return;const o=s+"Start",u=s+"End",h=a=>{let l;return a.first&&o in e&&e[o](a),s in e&&(l=e[s](a)),a.last&&u in e&&e[u](a),l};n[i]=h,r[i]=r[i]||{}}function Fr(t,e){const[s,i,n]=Lr(t),r={};return et(n,s,"onDrag","drag",r,e),et(n,s,"onWheel","wheel",r,e),et(n,s,"onScroll","scroll",r,e),et(n,s,"onPinch","pinch",r,e),et(n,s,"onMove","move",r,e),et(n,s,"onHover","hover",r,e),{handlers:r,config:e,nativeHandlers:i}}function ni(t,e={},s,i){const n=Zt.useMemo(()=>new Dr(t),[]);if(n.applyHandlers(t,i),n.applyConfig(e,s),Zt.useEffect(n.effect.bind(n)),Zt.useEffect(()=>n.clean.bind(n),[]),e.target===void 0)return n.bind.bind(n)}function qr(t,e){return ei(si),ni({drag:t},e||{},"drag")}function Ur(t){return t.forEach(ei),function(s,i){const{handlers:n,nativeHandlers:r,config:o}=Fr(s,i||{});return ni(n,o,void 0,r)}}function zr(t,e){return Ur([si,Ir,Ar,Pr,Er,Sr])(t,e||{})}export{qr as a,$r as b,zr as c,Br as u};
