import{r as s,j as r,a as E}from"./react-libs.513007de.js";import{c as P}from"./rc-cli_site-mobile-demo.b5ca414e.js";import"./index.04a2bc9a.js";import{T as u,n as p,P as R}from"./Uploader.d47e3eda.js";import"./index.b2a8bc00.js";import"./index.c6871036.js";import{C as f}from"./index.f78b1094.js";import"./index.6309d016.js";import"./constant.382f3d18.js";import"./Rate.4ef94079.js";import"./TextEllipsis.263e4d6b.js";import"./index.666defff.js";import"./ConfigProviderContext.ed273b22.js";import"./locales.fc745e15.js";import"./mobile.881f5661.js";import"./use-event-listener.b568d872.js";import"./use-touch.89e2aa83.js";async function h(c){return new Promise((a,n)=>{setTimeout(()=>{c&&n(new Error("error")),a(Array.from({length:10},(d,l)=>l))},1e3)})}const Q=()=>{const{DemoSection:c}=P,a=s.exports.useRef(null),[n,d]=s.exports.useState([]),[l,g]=s.exports.useState(0),[i,y]=s.exports.useState([]),[x,F]=s.exports.useState([]),[m,o]=s.exports.useState(!1),w=async()=>{const e=await h();d(t=>[...t,...e]),n.length>=30&&o(!0)},B=async()=>{g(t=>t+1);const e=await h(l===1);y(t=>[...t,...e])};s.exports.useEffect(()=>{i.length>=30&&o(!0)},[i]);const L=async e=>{const t=await h();F(T=>{const C=e?t:[...T,...t];return C.length>=30&&o(!0),C})},D=async()=>{var e;o(!1),await L(1),(e=a.current)==null||e.check()};return r(c,{children:E(u,{sticky:!0,children:[r(u.TabPane,{title:"\u57FA\u672C\u7528\u6CD5",onChange:()=>o(!1),children:r(p,{finished:m,onLoad:w,children:n.length?n.map((e,t)=>r(f,{title:t+1},t)):null})}),r(u.TabPane,{title:"\u9519\u8BEF\u63D0\u793A",children:r(p,{finished:m,errorText:"\u8BF7\u6C42\u5931\u8D25\uFF0C\u70B9\u51FB\u91CD\u65B0\u52A0\u8F7D",onLoad:B,children:i.length?i.map((e,t)=>r(f,{title:t+1},t)):null})}),r(u.TabPane,{title:"\u4E0B\u62C9\u5237\u65B0",children:r(R,{onRefresh:D,children:r(p,{ref:a,finished:m,onLoad:L,children:x.length?x.map((e,t)=>r(f,{title:t+1},t)):null})})})]})})};export{Q as default};
